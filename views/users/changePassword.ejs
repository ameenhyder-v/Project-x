<%- include('../partials/userpartials/header.ejs') %>
<style>
    .eye {
        cursor: pointer;
    }
</style>
<!-- login -->

<div class="wrapper" style="background-image: url('images/bg-registration-form-1.jpg');">
    <div class="inner">
        <div class="image-holder">
            <img src="images/registration-form-1.jpg" alt="collection image">
        </div>

        <form class="p-t-23" method="post">
            <br>
            <h3>Change password</h3>
            <p class="text-center  text-muted mb-2">Hello <span style="color: #8c5d77;"><%= email %></span> please Update your Password</p>
            <hr><br>
            <% if (typeof message !== "undefined") { %>
                <h6  style="color: crimson;"> <%= message %> </h6> 
            <% } %>
            <% if(typeof messagePassword !== "undefined"){ %>
                <p style="color: red;"> <%= messagePassword %></p>
            <% } %>
            <div class="form-wrapper">
                <input type="password" placeholder="Password" name="password" class="form-control" >
                <i class=" fa fa-fw fa-eye-slash toggle-password" id="togglePassword1"></i>
            </div>
            <% if(typeof messagePasswordConfirm !== "undefined"){ %>
                <p style="color: red;"> <%= messagePasswordConfirm %></p>
            <% } %>
            <div class="form-wrapper">
                <input type="password" placeholder="Confirm Password"  name="psconfirm" class="form-control">
                <i class="fa fa-fw fa-eye-slash toggle-password" id="togglePassword2"></i>
            </div>
            <button class="logButton" type="submit" style="background-color: #8c5d77;" >Update Password
                <i class="zmdi zmdi-arrow-right"></i>
            </button>

        </form>

    </div>
</div>

<%- include('../partials/userpartials/footer.ejs') %>

<script>
    document.querySelectorAll('.toggle-password').forEach(item => {
        item.addEventListener('click', function() {
            const inputField = this.previousElementSibling;
            const fieldType = inputField.getAttribute('type') === 'password' ? 'text' : 'password';
            inputField.setAttribute('type', fieldType);
            this.classList.toggle('fa-eye-slash');
            this.classList.toggle('fa-eye');
        });
    });
    
</script>

